{% extends 'base.html.twig' %}

{% block title %}Edition du produit : {{ product.name }}{% endblock %}

{% block body %}
<h1>Edition du produit : {{ product.name }}</h1>

{{ include('back/product/_form.html.twig', {'button_label': 'Mise à jour'}) }}

{# Part for show image and link delete image if it's an existing product #}
{% if product.id != null %}
<div class="d-flex flex-column my-2">
    {% if product.mockupFront != null %}
    <div class="my-1 d-flex">
        <div>
            <img src="{{ asset('uploads/images/' ~ product.mockupFront) }}" alt="" width="40px">
        </div>
        <div>
            <form action="{{ path('back_product_picture', {'id': product.id, 'image':'MockupFront'}) }}" method="post" onsubmit="return confirm('Êtes-vous sur de vouloir supprimer cette image ?');">
                <button type="submit" class="btn btn-link"><span>supprimer <svg xmlns="http://www.w3.org/2000/svg"
                            width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                            <path
                                d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                        </svg></span></button>
            </form>
        </div>
    </div>
    {% endif %}
    {% if product.mockupOverview != null %}
    <div class="my-1 d-flex">
        <div>
            <img src="{{ asset('uploads/images/' ~ product.mockupOverview) }}" alt="" width="40px">
        </div>
        <div>
            <form action="{{ path('back_product_picture', {'id': product.id, 'image':'MockupOverview'}) }}" method="post" onsubmit="return confirm('Êtes-vous sur de vouloir supprimer cette image ?');">
                <button type="submit" class="btn btn-link"><span>supprimer <svg xmlns="http://www.w3.org/2000/svg"
                            width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                            <path
                                d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                        </svg></span></button>
            </form>
        </div>
    </div>
    {% endif %}
    {% if product.assetFront != null %}
    <div class="my-1 d-flex">
        <div>
            <img src="{{ asset('uploads/images/' ~ product.assetFront) }}" alt="" width="40px">
        </div>
        <div>
            <form action="{{ path('back_product_picture', {'id': product.id, 'image':'AssetFront'}) }}" method="post" onsubmit="return confirm('Êtes-vous sur de vouloir supprimer cette image ?');">
                <button type="submit" class="btn btn-link"><span>supprimer <svg xmlns="http://www.w3.org/2000/svg"
                            width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                            <path
                                d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                        </svg></span></button>
            </form>
        </div>
    </div>
    {% endif %}
    {% if product.assetBack != null %}
    <div class="my-2 d-flex">
        <div>
            <img src="{{ asset('uploads/images/' ~ product.assetBack) }}" alt="" width="40px">
        </div>
        <div>
            <form action="{{ path('back_product_picture', {'id': product.id, 'image':'AssetBack'}) }}" method="post" onsubmit="return confirm('Êtes-vous sur de vouloir supprimer cette image ?');">
                <button type="submit" class="btn btn-link"><span>supprimer <svg xmlns="http://www.w3.org/2000/svg"
                            width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                            <path
                                d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                        </svg></span></button>
            </form>
        </div>
    </div>
    {% endif %}
</div>
{% endif %}
<div class="d-flex justify-content-between mt-2">
    {{ include('back/product/_delete_form.html.twig') }}
    <a href="{{ path('back_product_index') }}">Retour à la liste</a>
</div>
{% endblock %}